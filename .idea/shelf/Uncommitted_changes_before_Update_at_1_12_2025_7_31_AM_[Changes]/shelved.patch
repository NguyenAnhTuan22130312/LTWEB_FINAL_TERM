Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/OrderController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.controllers.user;\r\n\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\nimport java.io.IOException;\r\n\r\n@WebServlet(name = \"OrderController\", value = \"/order\")\r\npublic class OrderController extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.setContentType(\"text/html;charset=UTF-8\");\r\n        request.getRequestDispatcher(\"views/PurchaseOrder.jsp\").forward(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/OrderController.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/OrderController.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/OrderController.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/OrderController.java	(date 1736641864615)
@@ -6,13 +6,13 @@
 
 import java.io.IOException;
 
-@WebServlet(name = "OrderController", value = "/order")
+@WebServlet(name = "OrderController", value = "/purchaseOrder")
 public class OrderController extends HttpServlet {
 
     @Override
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
         response.setContentType("text/html;charset=UTF-8");
-        request.getRequestDispatcher("views/PurchaseOrder.jsp").forward(request, response);
+        request.getRequestDispatcher("/purchaseOrder.jsp").forward(request, response);
     }
 
     @Override
Index: src/main/webapp/views/cart.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page import=\"hcmuaf.nlu.edu.vn.testproject.models.Food\" %>\r\n<%@ page import=\"java.util.List\" %>\r\n<%@ page import=\"java.util.ArrayList\" %>\r\n<%@ page import=\"hcmuaf.nlu.edu.vn.testproject.daos.FoodCartDAO\" %>\r\n<%@ page import=\"hcmuaf.nlu.edu.vn.testproject.models.Item\" %>\r\n<%@ page import=\"hcmuaf.nlu.edu.vn.testproject.models.Order\" %>\r\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" %>\r\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\"/>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n    <title>Giỏ hàng</title>\r\n    <link href=\"${pageContext.request.contextPath}/Images/LOGO_V2.png\" rel=\"icon\" type=\"image/x-icon\"/>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"/>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"/>\r\n    <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/cart.css\"/>\r\n    <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/signinCssModule.css\"/>\r\n    <script src=\"${pageContext.request.contextPath}/js/module_dangnhap.js\" defer></script>\r\n</head>\r\n<style>\r\n    .congtrubutton{\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 10px;\r\n    }\r\n    a{\r\n        color: white;\r\n    }\r\n</style>\r\n<body>\r\n<script src=\"${pageContext.request.contextPath}/js/module_dangnhap.js\"></script>\r\n<jsp:include page=\"header.jsp\"></jsp:include>\r\n\r\n\r\n<div id=\"content_section\">\r\n    <div class=\"cart-container\">\r\n        <div class=\"cart-left\">\r\n\r\n                <table class=\"cart-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Tên sản phẩm</th>\r\n                        <th>Hình ảnh</th>\r\n                        <th>Số lượng</th>\r\n                        <th>Giá</th>\r\n                        <th>Thành tiền</th>\r\n                        <th>\r\n                            <a href=\"${pageContext.request.contextPath}/addtoCart?removeAll=true\">\r\n                                <i class=\"fa-regular fa-trash-can\"></i>\r\n                            </a>\r\n                        </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody id=\"cart-items-container\" class=\"cart-body\">\r\n                    <c:forEach items=\"${sessionScope.order.items}\" var=\"item\">\r\n                        <tr>\r\n                            <td>\r\n                                <button class=\"delete-btn\">\r\n                                    <a href=\"${pageContext.request.contextPath}/addtoCart?removeFoodID=${item.food.idFood}\" class=\"delete-btn\">\r\n                                        <i class=\"fa-regular fa-trash-can\"></i>\r\n                                    </a>\r\n                                </button>\r\n                            </td>\r\n                            <td>${item.food.foodName}</td>\r\n                            <td>\r\n                                <img src=\"${item.food.img}\" alt=\"${item.food.foodName}\" class=\"product-img\"/>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"congtrubutton\">\r\n                                    <a href=\"${pageContext.request.contextPath}/addtoCart?decrement=${item.food.idFood}\">\r\n                                        <button>-</button>\r\n                                    </a>\r\n                                    <span>${item.quantity}</span>\r\n                                    <a href=\"${pageContext.request.contextPath}/addtoCart?increment=${item.food.idFood}\">\r\n                                        <button>+</button>\r\n                                    </a>\r\n                                </div>\r\n                            </td>\r\n                            <td>${item.food.price}₫</td>\r\n                            <td>${item.quantity * item.food.price}₫</td>\r\n                            <td></td>\r\n                        </tr>\r\n                    </c:forEach>\r\n                    </tbody>\r\n\r\n\r\n                </table>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <div class=\"cart-buttons\">\r\n                <button\r\n                        class=\"continue-btn\">\r\n                    <a href=\"home\">← Tiếp tục xem sản phẩm</a>\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"cart-right\">\r\n            <h2>Tổng Sản Phẩm</h2>\r\n            <div class=\"cart-summary\">\r\n                <div class=\"summary-item\">\r\n                    <span>Tạm tính:</span>\r\n                    <c:forEach var=\"item\" items=\"${sessionScope.order.items}\">\r\n                        <c:set var=\"subtotal\" value=\"${subtotal + item.quantity * item.food.price}\" />\r\n                    </c:forEach>\r\n                    ${subtotal}₫\r\n                </div>\r\n            </div>\r\n            <div class=\"summary-item total\">\r\n                <span>Tổng cộng:</span>\r\n                <span id=\"total\"> ${subtotal}₫</span>\r\n            </div>\r\n            <button\r\n                    class=\"checkout-btn\">\r\n                    <a href=\"checkout\" style=\"text-decoration: none\">Tiến hành thanh toán</a>\r\n            </button>\r\n\r\n\r\n            <div class=\"voucher\">\r\n                <label for=\"voucher\">Phiếu ưu đãi</label>\r\n                <input type=\"text\" id=\"voucher\" placeholder=\"Mã ưu đãi\"/>\r\n                <button class=\"apply-btn\" onclick=\"applyVoucher()\">Áp dụng</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<jsp:include page=\"footer.jsp\"></jsp:include>\r\n\r\n\r\n<script src=\"${pageContext.request.contextPath}/js/cart.js\"></script>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/views/cart.jsp b/src/main/webapp/views/cart.jsp
--- a/src/main/webapp/views/cart.jsp	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/views/cart.jsp	(date 1736641864621)
@@ -40,6 +40,15 @@
     <div class="cart-container">
         <div class="cart-left">
 
+            <!-- Hiển thị thông báo thanh toán thành công nếu có -->
+            <c:if test="${not empty sessionScope.paymentSuccessMessage}">
+                <div class="success-message" id="success-message">
+                    <p>${sessionScope.paymentSuccessMessage}</p>
+                </div>
+                <!-- Xóa thông báo sau khi hiển thị -->
+                <c:remove var="paymentSuccessMessage"/>
+            </c:if>
+
                 <table class="cart-table">
                     <thead>
                     <tr>
@@ -92,10 +101,6 @@
                 </table>
 
 
-
-
-
-
             <div class="cart-buttons">
                 <button
                         class="continue-btn">
Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/AjaxSearchController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.controllers.user;\r\n\r\nimport hcmuaf.nlu.edu.vn.testproject.daos.FoodDAO;\r\nimport hcmuaf.nlu.edu.vn.testproject.models.Food;\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = \"AjaxSearchController\", value = \"/AjaxSearchController\")\r\npublic class AjaxSearchController extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.setContentType(\"text/html\");\r\n        response.setCharacterEncoding(\"UTF-8\");\r\n\r\n        String textSearch = request.getParameter(\"text\");\r\n        FoodDAO dao = new FoodDAO();\r\n        List<Food> foodList = dao.searchByName(textSearch);\r\n        request.setAttribute(\"list\", foodList);\r\n\r\n        PrintWriter out = response.getWriter();\r\n        if(foodList.isEmpty())\r\n            out.println(\"<h2 style=\\\"max-width: 1200px; text-align: center;\\\"> Không có món ăn phù hợp</h2>\");\r\n        else {\r\n            out.println(\"<div class=\\\"content_section\\\">\");\r\n            for (Food food : foodList) {\r\n                String addToCartUrl = request.getContextPath() + \"/addtoCart?foodID=\" + food.getIdFood();\r\n                out.println(\"<div class=\\\"card\\\" onclick=\\\"showPopup('\" + food.getIdFood() + \"')\\\">\\n\" +\r\n                        \"                <img src=\\\"\" + food.getImg() + \"\\\" alt=\\\"\" + food.getFoodName() + \"\\\"/>\\n\" +\r\n                        \"                <div class=\\\"card_content\\\">\\n\" +\r\n                        \"                    <h3>\" + food.getFoodName() + \"</h3>\\n\" +\r\n                        \"                    <p>\" + food.getPrice() + \"đ</p>\\n\" +\r\n                        \"                    <a class=\\\"linktocart\\\" href=\\\"\" + addToCartUrl + \"\\\">\\n\" +\r\n                        \"                            Thêm vào giỏ hàng\\n\" +\r\n                        \"                        </a>\\n\" +\r\n                        \"                </div>\\n\" +\r\n                        \"            </div>\\n\" +\r\n                        \"\\n\" +\r\n                        \"            <!-- Popup chi tiết món ăn -->\\n\" +\r\n                        \"            <div id=\\\"\" + food.getIdFood() + \"\\\" class=\\\"popup\\\">\\n\" +\r\n                        \"                <div class=\\\"popup-content\\\">\\n\" +\r\n                        \"                    <img src=\\\"\" + food.getImg() + \"\\\" alt=\\\"\" + food.getFoodName() + \"\\\"/>\\n\" +\r\n                        \"                    <h3>\" + food.getFoodName() + \"</h3>\\n\" +\r\n                        \"                    <p>Giá: \" + food.getPrice() + \"đ</p>\\n\" +\r\n                        \"                    <span>\\n\" +\r\n                        \"                           \" + food.getDescription() + \"\\n\" +\r\n                        \"                    </span>\\n\" +\r\n                        \"                    <button class=\\\"button-cart\\\">\\n\" +\r\n                        \"\\n\" +\r\n                        \"                        <a class=\\\"linktocart\\\" href=\\\"\" + addToCartUrl + \"\\\">\\n\" +\r\n                        \"                            Thêm vào giỏ hàng\\n\" +\r\n                        \"                        </a>\\n\" +\r\n                        \"                    </button>\\n\" +\r\n                        \"                </div>\\n\" +\r\n                        \"                <span class=\\\"close\\\" onclick=\\\"closePopup('\" + food.getIdFood() + \"')\\\">&times;</span>\\n\" +\r\n                        \"            </div>\");\r\n            }\r\n            out.println(\"</div>\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/AjaxSearchController.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/AjaxSearchController.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/AjaxSearchController.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/AjaxSearchController.java	(date 1736641864613)
@@ -1,7 +1,10 @@
 package hcmuaf.nlu.edu.vn.testproject.controllers.user;
 
 import hcmuaf.nlu.edu.vn.testproject.daos.FoodDAO;
+import hcmuaf.nlu.edu.vn.testproject.models.Category;
 import hcmuaf.nlu.edu.vn.testproject.models.Food;
+import hcmuaf.nlu.edu.vn.testproject.services.CategoryService;
+import hcmuaf.nlu.edu.vn.testproject.services.FoodServiceListFilter;
 import jakarta.servlet.*;
 import jakarta.servlet.http.*;
 import jakarta.servlet.annotation.*;
@@ -15,18 +18,47 @@
 
     @Override
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
-        response.setContentType("text/html");
-        response.setCharacterEncoding("UTF-8");
+        response.setContentType("text/html;charset=UTF-8");
+
+
+
+        int page = 1;
+        if (request.getParameter("page") != null)
+            page =Integer.parseInt(request.getParameter("page"));
+
+        int pageSize = 10; // Kích thước trang
+        int offset = (page - 1) * pageSize;
+        int totalFoods = 0;
+
+        // Lấy giá trị option từ request
+        String option = request.getParameter("text");
+        FoodServiceListFilter foodServiceListFilter = new FoodServiceListFilter();
+        List<Food> foodList = foodServiceListFilter.getOption(option); // Lấy danh sách dựa trên option
+        totalFoods = foodList.size(); // Tổng số món theo option
+
+        // Áp dụng phân trang
+        foodList = foodList.subList(
+                Math.min(offset, totalFoods),
+                Math.min(offset + pageSize, totalFoods)
+        );
+
+        // Tính tổng số trang
+        int totalPages = (int) Math.ceil((double) totalFoods / pageSize);
 
-        String textSearch = request.getParameter("text");
-        FoodDAO dao = new FoodDAO();
-        List<Food> foodList = dao.searchByName(textSearch);
+        // Lấy danh sách danh mục
+        CategoryService cs = new CategoryService();
+        List<Category> categoryList = cs.getCategories();
+
+        // Đặt thuộc tính cho JSP
         request.setAttribute("list", foodList);
+        request.setAttribute("listC", categoryList);
+        request.setAttribute("currentPage", page);
+        request.setAttribute("totalPages", totalPages);
 
         PrintWriter out = response.getWriter();
-        if(foodList.isEmpty())
+        if (foodList.isEmpty()) {
             out.println("<h2 style=\"max-width: 1200px; text-align: center;\"> Không có món ăn phù hợp</h2>");
-        else {
+        } else {
             out.println("<div class=\"content_section\">");
             for (Food food : foodList) {
                 String addToCartUrl = request.getContextPath() + "/addtoCart?foodID=" + food.getIdFood();
@@ -35,9 +67,9 @@
                         "                <div class=\"card_content\">\n" +
                         "                    <h3>" + food.getFoodName() + "</h3>\n" +
                         "                    <p>" + food.getPrice() + "đ</p>\n" +
-                        "                    <a class=\"linktocart\" href=\"" + addToCartUrl + "\">\n" +
-                        "                            Thêm vào giỏ hàng\n" +
-                        "                        </a>\n" +
+                        "                    <a class=\"btn\" href=\"" + addToCartUrl + "\" onclick=\"event.stopPropagation()\">\n" +
+                        "                        Thêm vào giỏ hàng\n" +
+                        "                    </a>\n" +
                         "                </div>\n" +
                         "            </div>\n" +
                         "\n" +
@@ -51,7 +83,6 @@
                         "                           " + food.getDescription() + "\n" +
                         "                    </span>\n" +
                         "                    <button class=\"button-cart\">\n" +
-                        "\n" +
                         "                        <a class=\"linktocart\" href=\"" + addToCartUrl + "\">\n" +
                         "                            Thêm vào giỏ hàng\n" +
                         "                        </a>\n" +
@@ -61,6 +92,12 @@
                         "            </div>");
             }
             out.println("</div>");
+
+            out.println("<div class=\"pagination\" style=\"width:1200px;margin:0px auto; padding-left:35px; text-align:center;\">");
+            for (int i = 1; i <= totalPages; i++) {
+                out.println("<button onclick=\"loadSP('" + option + "', " + i + ")\" class=\"" + (page == i ? "active" : "") + "\">" + i + "</button>");
+            }
+            out.println("</div>");
         }
     }
 
Index: src/main/webapp/css/allmenu_n.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>body,\r\nhtml {\r\n  margin: 0;\r\n  padding: 0px;\r\n  font-family: sans-serif, Tahoma;\r\n  height: 100%;\r\n}\r\n#header {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  height: 140px;\r\n  background-color: #ffffff;\r\n  border-bottom: 2px solid #e6e6e6;\r\n}\r\n#header .containerheaderAll {\r\n  max-width: 1200px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n#header .containers {\r\n  max-width: 1200px;\r\n  max-height: 140px;\r\n}\r\n#header .containerss {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 1200px;\r\n  max-height: 95px;\r\n}\r\n#header .containerss .left {\r\n  width: 50%;\r\n}\r\n#header .containerss img {\r\n  width: 310px;\r\n  height: 100px;\r\n}\r\n#header .containerss .right {\r\n  width: 50%;\r\n  display: flex;\r\n  justify-content: end;\r\n  gap: 40px;\r\n  margin-right: 30px;\r\n}\r\n#header .containerss .right .nav_item_shop {\r\n  position: relative;\r\n}\r\n#header .containerss .right .count {\r\n  position: absolute;\r\n  margin: 5px;\r\n  background-color: #ffe600;\r\n  width: 28px;\r\n  height: 28px;\r\n  text-align: center;\r\n  border-radius: 50%;\r\n  top: -2px;\r\n  line-height: 28px;\r\n}\r\n#header .containerss .right .fa-solid {\r\n  color: #b5292f;\r\n  margin: 10px;\r\n}\r\n#header .containerss .right a {\r\n  color: rgb(2, 2, 2);\r\n  text-decoration: none;\r\n  font-weight: 550;\r\n}\r\n#header .bottom {\r\n  width: 100%;\r\n  height: 45px;\r\n  display: flex;\r\n}\r\n#header .bottom .menu {\r\n  width: 50%;\r\n  height: 45px;\r\n}\r\n#header .bottom .menu .menu-item .tabbar .fa-solid {\r\n  margin-left: 20px;\r\n  color: #b5292f;\r\n  margin-right: 10px;\r\n}\r\n#header .bottom .menu .menu-list {\r\n  padding: 0px;\r\n}\r\n#header .bottom .menu a {\r\n  text-decoration: none;\r\n  color: rgb(39, 39, 39);\r\n}\r\n#header .bottom .menu ul {\r\n  height: 100%;\r\n}\r\n#header .bottom .menu ul > li {\r\n  list-style-type: none;\r\n  width: max-content;\r\n  float: left;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  padding-right: 40px;\r\n}\r\n#header .bottom .menu ul > li > a:hover {\r\n  color: #b5292f;\r\n}\r\n#header .bottom .menu .menu-item {\r\n  position: relative;\r\n  height: 100%;\r\n}\r\n#header .bottom .menu ul .submenu {\r\n  position: absolute;\r\n  height: 150px;\r\n  width: auto;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n\r\n  border-top: none;\r\n  top: 29px;\r\n  left: 20px;\r\n  display: none;\r\n  background-color: white;\r\n  color: black;\r\n  border-radius: 0;\r\n}\r\n#header .menu ul > li:hover .submenu {\r\n  display: block;\r\n  border-radius: 10px;\r\n  padding-top: 10px;\r\n}\r\n#header .menu ul.submenu > li {\r\n  float: none;\r\n  width: 80px;\r\n  height: 30px;\r\n}\r\n#header .menu .submenu a {\r\n  position: relative;\r\n}\r\n#header .menu .submenu i {\r\n  position: absolute;\r\n  left: -25px;\r\n  width: auto;\r\n  height: auto;\r\n}\r\n#header .bottom .search {\r\n  width: 50%;\r\n  height: 35px;\r\n  display: flex;\r\n  justify-content: end;\r\n  position: relative;\r\n}\r\n#header .bottom .search input {\r\n  width: 300px;\r\n  padding: 10px;\r\n  border: 1px solid #918f8f;\r\n  border-radius: 20px;\r\n  margin-right: 20px;\r\n  font-weight: 600;\r\n  background: #f9f9f9;\r\n  color: #222222;\r\n  margin: 0;\r\n}\r\n#header .bottom .search button {\r\n  position: absolute;\r\n  width: 25px;\r\n  height: 25px;\r\n  border: 1px solid #b5292f;\r\n  border-radius: 50%;\r\n  background-color: #b5292f;\r\n  color: white;\r\n  right: 10px;\r\n  top: 5px;\r\n}\r\n/* Xử lý footer */\r\n#footer {\r\n  width: 100%;\r\n  height: max-content;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #b5292f;\r\n  border-top: 2px solid #e6e6e6;\r\n\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  box-sizing: border-box;\r\n}\r\n#footer .footer-info {\r\n  width: 100%;\r\n  width: 800px;\r\n  height: 50%;\r\n  display: flex;\r\n}\r\n#footer .footer-info .left {\r\n  width: 70%;\r\n  color: white;\r\n}\r\n#footer .footer-info .right {\r\n  width: 30%;\r\n  color: white;\r\n}\r\n#footer .footer-info .right i {\r\n  color: white;\r\n  font-size: 20px;\r\n  margin: 5px;\r\n}\r\n#footer .footer-social {\r\n  display: flex;\r\n  gap: 10px;\r\n  color: #e6e6e6;\r\n  margin-top: 20px;\r\n}\r\n#footer .footer-social a {\r\n  color: white;\r\n  text-decoration: none;\r\n}\r\n#footer .footer-social .mid {\r\n  margin-left: 100px;\r\n}\r\n#container {\r\n  width: 100%;\r\n  min-height: 460px ;\r\n  background-color: white;\r\n  margin: 50px;\r\n}\r\n/* Xử lý intro */\r\n.intro {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 5px;\r\n}\r\n\r\n.intro h4 {\r\n  color: black;\r\n  font-weight: 600;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 18px;\r\n  border-bottom: 3px solid darkred;\r\n}\r\n.intro h2 {\r\n  color: black;\r\n  font-weight: 600;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  border-bottom: 3px solid darkred;\r\n}\r\n\r\n/* Xử lý menu */\r\n\r\n.containerAll {\r\n  max-width: 1300px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n}\r\n\r\n.content_section {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));\r\n  gap: 20px;\r\n  justify-items: center;\r\n  padding: 20px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n}\r\n\r\n.card {\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  width: 230px;\r\n  text-align: center;\r\n}\r\n\r\n.card img {\r\n  width: auto;\r\n  height: 180px;\r\n}\r\n\r\n.card_content {\r\n  padding: 12px;\r\n}\r\n\r\n.card_content h3 {\r\n  margin: 10px 0;\r\n  font-size: 15px;\r\n  color: #333;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.card_content p {\r\n  margin: 5px 0;\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  color: darkred;\r\n}\r\n\r\n.card_content .btn {\r\n  display: block;\r\n  margin: 10px 0;\r\n  padding: 4px;\r\n  border: none;\r\n  outline: none;\r\n  text-decoration: none;\r\n  background-color: #b12704;\r\n  color: white;\r\n  border-radius: 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.card_content .btn:hover {\r\n  background-color: #c0392b;\r\n}\r\n\r\n/* Xử lý pagination */\r\n.pagination {\r\n  align-self: stretch;\r\n  text-align: center;\r\n  margin-top: 15px;\r\n  width: 100%;\r\n}\r\n\r\n\r\n.pagination button {\r\n  color: darkred;\r\n  font-size: 15px;\r\n  text-decoration: none;\r\n  padding: 8px 15px;\r\n  display: inline-block;\r\n  border: none;\r\n}\r\n\r\n.pagination .active {\r\n  background-color: rgba(122, 8, 8, 0.905);\r\n  font-weight: bold;\r\n  border-radius: 5px;\r\n  color: white;\r\n\r\n}\r\n\r\n.pagination a:hover:not(.active) {\r\n  background-color: rgb(182, 179, 177);\r\n  border-radius: 5px;\r\n}\r\n#container {\r\n  max-width: 1300px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  height: auto;\r\n}\r\n\r\n/* Xử lý Pop up */\r\n.popup {\r\n  display: none; /* Ẩn pop-up lúc đầu */\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5); /* Nền mờ */\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.popup-content {\r\n  background-color: white;\r\n  max-height: calc(100vh - 60px);\r\n  box-shadow: 0px 4px 30px rgb(0 0 0 / 25%);\r\n  border-radius: 5px;\r\n  width: 600px;\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n\r\n.close {\r\n  background-color: rgb(0 0 0 / 40%);\r\n  height: 20px;\r\n  width: 20px;\r\n  border-radius: 50%;\r\n  font-size: 28px;\r\n  color: white;\r\n  border: 0;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  padding: 20px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.popup-content img {\r\n  width: 100%;\r\n  object-fit: cover;\r\n  max-height: 375px;\r\n}\r\n\r\n.popup-content h2 {\r\n  margin-left: 20px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.popup-content p {\r\n  color: #b5292f;\r\n  font-weight: 600;\r\n  font-size: 17px;\r\n}\r\n\r\n.popup-content span {\r\n  font-size: 17px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.popup-content .button-cart {\r\n  background-color: #b12704;\r\n  color: white;\r\n  padding: 10px 40px;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 25px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n  margin-top: 30px;\r\n  text-decoration: none;\r\n  width: 100%;\r\n  height: max-content;\r\n}\r\n\r\n.popup-content .button-cart .linktocart {\r\n  text-decoration: none;\r\n  color: white;\r\n}\r\n\r\n.popup-content .button-cart:hover {\r\n  background-color: #c0392b;\r\n  color: white;\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/css/allmenu_n.css b/src/main/webapp/css/allmenu_n.css
--- a/src/main/webapp/css/allmenu_n.css	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/css/allmenu_n.css	(date 1736641864617)
@@ -433,6 +433,11 @@
   color: white;
 }
 
+.popup-content .button-cart .btn {
+  text-decoration: none ;
+  color: white;
+}
+
 .popup-content .button-cart:hover {
   background-color: #c0392b;
   color: white;
Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.daos;\r\nimport hcmuaf.nlu.edu.vn.testproject.context.DbContext;\r\nimport hcmuaf.nlu.edu.vn.testproject.models.Account;\r\nimport hcmuaf.nlu.edu.vn.testproject.models.Invoice;\r\nimport hcmuaf.nlu.edu.vn.testproject.models.InvoiceDetail;\r\n\r\nimport java.sql.*;\r\n\r\npublic class InvoiceDAO {\r\n    public void addInvoice(Invoice invoice) {\r\n        String query = \"INSERT INTO invoice (idAcc, recipientName, phoneNumber, deliveryAddress, note, orderDate, totalAmount, idCode, paymentMethod, isPaid) VALUES (?, ?, ?, ?, ?, ?, ?, NULL, ?, NULL)\";\r\n        Connection conn = null;\r\n        PreparedStatement ps = null;\r\n        ResultSet rs = null; // Dùng ResultSet để lấy giá trị id vừa chèn vào\r\n        try {\r\n            conn = new DbContext().getConnection();\r\n            ps = conn.prepareStatement(query, Statement.RETURN_GENERATED_KEYS); // Thêm tùy chọn để lấy key được sinh ra\r\n\r\n            // Gán các tham số vào câu lệnh SQL\r\n            ps.setInt(1, invoice.getIdAcc());\r\n            ps.setString(2, invoice.getRecipientName());\r\n            ps.setString(3, invoice.getPhoneNumber());\r\n            ps.setString(4, invoice.getDeliveryAddress());\r\n            ps.setString(5, invoice.getNote());\r\n            ps.setString(6, invoice.getOrderDate());\r\n            ps.setInt(7, invoice.getTotalAmount());\r\n            ps.setInt(8, invoice.getPaymentMethod());\r\n\r\n            // Thực thi câu lệnh INSERT\r\n            int affectedRows = ps.executeUpdate();\r\n\r\n            if (affectedRows > 0) {\r\n                // Lấy ID của hóa đơn vừa chèn vào\r\n                rs = ps.getGeneratedKeys();\r\n                if (rs.next()) {\r\n                    // Đặt idInvoice cho đối tượng Invoice\r\n                    invoice.setIdInvoice(rs.getInt(1));\r\n                    System.out.println(\"Invoice ID generated: \" + invoice.getIdInvoice());\r\n                }\r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            try {\r\n                if (rs != null) rs.close();\r\n                if (ps != null) ps.close();\r\n                if (conn != null) conn.close();\r\n            } catch (SQLException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void addInvoiceDetail(InvoiceDetail detail) {\r\n        String query = \"INSERT INTO invoicedetail (idInvoice, idFood, quantity, totalAmount) VALUES (?, ?, ?, ?)\";\r\n        Connection conn = null;\r\n        PreparedStatement ps = null;\r\n        try {\r\n            conn = new DbContext().getConnection();\r\n            ps = conn.prepareStatement(query);\r\n            ps.setInt(1, detail.getIdInvoice());\r\n            ps.setInt(2, detail.getIdFood());\r\n            ps.setInt(3, detail.getQuantity());\r\n            ps.setInt(4, detail.getTotalAmount());\r\n            ps.executeUpdate();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        // Tạo đối tượng Invoice\r\n        Invoice invoice = new Invoice();\r\n        invoice.setIdAcc(1);\r\n        invoice.setRecipientName(\"Nguyen Van A\");\r\n        invoice.setPhoneNumber(\"0123456789\");\r\n        invoice.setDeliveryAddress(\"123 Đường ABC, Quận 1, TP.HCM\");\r\n        invoice.setNote(\"Giao hàng vào buổi sáng\");\r\n        invoice.setOrderDate(\"2025/1/1\");\r\n        invoice.setTotalAmount(500000);\r\n        invoice.setPaymentMethod(1);  // 1 cho thẻ tín dụng, 0 cho tiền mặt\r\n        invoice.setIsPaid(1); // 1 cho đã thanh toán, 0 cho chưa thanh toán\r\n\r\n        // Tạo đối tượng InvoiceDetail\r\n        InvoiceDetail detail = new InvoiceDetail();\r\n        detail.setIdInvoice(2);  // Giả sử idInvoice là 1\r\n        detail.setIdFood(12);  // Giả sử idFood là 101\r\n        detail.setQuantity(2);\r\n        detail.setTotalAmount(200000);\r\n\r\n        // Khởi tạo InvoiceDAO\r\n        InvoiceDAO dao = new InvoiceDAO();\r\n\r\n\r\n        // Thêm InvoiceDetail vào cơ sở dữ liệu\r\n        dao.addInvoiceDetail(detail);\r\n\r\n        System.out.println(\"Đã thêm Invoice và InvoiceDetail thành công!\");\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java	(date 1736641864615)
@@ -1,10 +1,13 @@
 package hcmuaf.nlu.edu.vn.testproject.daos;
 import hcmuaf.nlu.edu.vn.testproject.context.DbContext;
 import hcmuaf.nlu.edu.vn.testproject.models.Account;
+import hcmuaf.nlu.edu.vn.testproject.models.Food;
 import hcmuaf.nlu.edu.vn.testproject.models.Invoice;
 import hcmuaf.nlu.edu.vn.testproject.models.InvoiceDetail;
 
 import java.sql.*;
+import java.util.ArrayList;
+import java.util.List;
 
 public class InvoiceDAO {
     public void addInvoice(Invoice invoice) {
@@ -70,33 +73,60 @@
             e.printStackTrace();
         }
     }
+
+    public List<InvoiceDetail> getInvoiceDetails() {
+        // Truy vấn gộp món ăn theo foodName và tính tổng số lượng, tổng doanh thu
+        String query = "SELECT f.foodName, f.img, SUM(id.quantity) AS totalQuantity, SUM(id.totalAmount) AS totalAmount " +
+                "FROM invoicedetail id " +
+                "JOIN food f ON id.idFood = f.idFood " +
+                "GROUP BY f.foodName, f.img";
+
+        List<InvoiceDetail> details = new ArrayList<>();
+        Connection conn = null;
+        PreparedStatement ps = null;
+        ResultSet rs = null;
+
+        try {
+            conn = new DbContext().getConnection();
+            ps = conn.prepareStatement(query);
+            rs = ps.executeQuery();
+
+            while (rs.next()) {
+                InvoiceDetail detail = new InvoiceDetail();
+                detail.setQuantity(rs.getInt("totalQuantity"));  // Tổng số lượng bán
+                detail.setTotalAmount(rs.getInt("totalAmount"));  // Tổng doanh thu
+
+                Food food = new Food();
+                food.setFoodName(rs.getString("foodName"));
+                food.setImg(rs.getString("img"));
+
+                detail.setFood(food);
+                details.add(detail);
+            }
+        } catch (SQLException | ClassNotFoundException e) {
+            e.printStackTrace();
+        } finally {
+            try {
+                if (rs != null) rs.close();
+                if (ps != null) ps.close();
+                if (conn != null) conn.close();
+            } catch (SQLException ex) {
+                ex.printStackTrace();
+            }
+        }
+        return details;
+    }
+
+
     public static void main(String[] args) {
-        // Tạo đối tượng Invoice
-        Invoice invoice = new Invoice();
-        invoice.setIdAcc(1);
-        invoice.setRecipientName("Nguyen Van A");
-        invoice.setPhoneNumber("0123456789");
-        invoice.setDeliveryAddress("123 Đường ABC, Quận 1, TP.HCM");
-        invoice.setNote("Giao hàng vào buổi sáng");
-        invoice.setOrderDate("2025/1/1");
-        invoice.setTotalAmount(500000);
-        invoice.setPaymentMethod(1);  // 1 cho thẻ tín dụng, 0 cho tiền mặt
-        invoice.setIsPaid(1); // 1 cho đã thanh toán, 0 cho chưa thanh toán
-
-        // Tạo đối tượng InvoiceDetail
-        InvoiceDetail detail = new InvoiceDetail();
-        detail.setIdInvoice(2);  // Giả sử idInvoice là 1
-        detail.setIdFood(12);  // Giả sử idFood là 101
-        detail.setQuantity(2);
-        detail.setTotalAmount(200000);
-
-        // Khởi tạo InvoiceDAO
         InvoiceDAO dao = new InvoiceDAO();
-
-
-        // Thêm InvoiceDetail vào cơ sở dữ liệu
-        dao.addInvoiceDetail(detail);
-
-        System.out.println("Đã thêm Invoice và InvoiceDetail thành công!");
+        List<InvoiceDetail> invoiceDetails = dao.getInvoiceDetails();
+        for (InvoiceDetail detail : invoiceDetails) {
+            System.out.println("Tên món ăn: " + detail.getFood().getFoodName());
+            System.out.println("Hình ảnh món ăn: " + detail.getFood().getImg());
+            System.out.println("Số lượng bán: " + detail.getQuantity());
+            System.out.println("Doanh thu: " + detail.getTotalAmount());
+            System.out.println("-----------------------------------");
+        }
     }
 }
Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.models;\r\n\r\npublic class InvoiceDetail {\r\n    private int idDetail;\r\n    private int idInvoice;\r\n    private int idFood;\r\n    private int quantity;\r\n    private int totalAmount;\r\n\r\n    public InvoiceDetail() {\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \"InvoiceDetail{\" +\r\n                \"idDetail=\" + idDetail +\r\n                \", idInvoice=\" + idInvoice +\r\n                \", idFood=\" + idFood +\r\n                \", quantity=\" + quantity +\r\n                \", totalAmount=\" + totalAmount +\r\n                '}';\r\n    }\r\n\r\n    public InvoiceDetail(int idDetail, int idInvoice, int idFood, int quantity, int totalAmount) {\r\n        this.idDetail = idDetail;\r\n        this.idInvoice = idInvoice;\r\n        this.idFood = idFood;\r\n        this.quantity = quantity;\r\n        this.totalAmount = totalAmount;\r\n    }\r\n\r\n    public int getIdDetail() {\r\n        return idDetail;\r\n    }\r\n\r\n    public void setIdDetail(int idDetail) {\r\n        this.idDetail = idDetail;\r\n    }\r\n\r\n    public int getIdInvoice() {\r\n        return idInvoice;\r\n    }\r\n\r\n    public void setIdInvoice(int idInvoice) {\r\n        this.idInvoice = idInvoice;\r\n    }\r\n\r\n    public int getIdFood() {\r\n        return idFood;\r\n    }\r\n\r\n    public void setIdFood(int idFood) {\r\n        this.idFood = idFood;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public int getTotalAmount() {\r\n        return totalAmount;\r\n    }\r\n\r\n    public void setTotalAmount(int totalAmount) {\r\n        this.totalAmount = totalAmount;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java	(date 1736641864617)
@@ -6,6 +6,7 @@
     private int idFood;
     private int quantity;
     private int totalAmount;
+    private Food food;
 
     public InvoiceDetail() {
     }
@@ -28,6 +29,13 @@
         this.quantity = quantity;
         this.totalAmount = totalAmount;
     }
+    public Food getFood() {
+        return food;
+    }
+
+    public void setFood(Food food) {
+        this.food = food;
+    }
 
     public int getIdDetail() {
         return idDetail;
Index: src/main/webapp/css/cart.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>body,\r\nhtml {\r\n    margin: 0;\r\n    padding: 0px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    height: 100%;\r\n}\r\n\r\n#header {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    height: 140px;\r\n    background-color: #ffffff;\r\n    border-bottom: 2px solid #e6e6e6;\r\n}\r\n\r\n#header .containerheaderAll {\r\n    max-width: 1200px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n\r\n#header .containers {\r\n    max-width: 1200px;\r\n    max-height: 140px;\r\n}\r\n\r\n#header .containerss {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 1200px;\r\n    max-height: 95px;\r\n}\r\n\r\n#header .containerss .left {\r\n    width: 50%;\r\n}\r\n\r\n#header .containerss img {\r\n    width: 310px;\r\n    height: 100px;\r\n}\r\n\r\n#header .containerss .right {\r\n    width: 50%;\r\n    display: flex;\r\n    justify-content: end;\r\n    gap: 40px;\r\n    margin-right: 30px;\r\n}\r\n\r\n#header .containerss .right .nav_item_shop {\r\n    position: relative;\r\n}\r\n\r\n#header .containerss .right .count {\r\n    position: absolute;\r\n    margin: 5px;\r\n    background-color: #ffe600;\r\n    width: 28px;\r\n    height: 28px;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    top: -2px;\r\n    line-height: 28px;\r\n}\r\n\r\n#header .containerss .right .fa-solid {\r\n    color: #b5292f;\r\n    margin: 10px;\r\n}\r\n\r\n#header .containerss .right a {\r\n    color: rgb(2, 2, 2);\r\n    text-decoration: none;\r\n    font-weight: 550;\r\n}\r\n\r\n#header .bottom {\r\n    width: 100%;\r\n    height: 45px;\r\n    display: flex;\r\n    z-index: 1000;\r\n}\r\n\r\n#header .bottom .menu {\r\n    width: 50%;\r\n    height: 45px;\r\n    z-index: 1000;\r\n}\r\n\r\n#header .bottom .menu .menu-item .tabbar .fa-solid {\r\n    margin-left: 20px;\r\n    color: #b5292f;\r\n    margin-right: 10px;\r\n}\r\n\r\n#header .bottom .menu .menu-list {\r\n    padding: 0px;\r\n}\r\n\r\n#header .bottom .menu a {\r\n    text-decoration: none;\r\n    color: rgb(39, 39, 39);\r\n}\r\n\r\n#header .bottom .menu ul {\r\n    height: 100%;\r\n}\r\n\r\n#header .bottom .menu ul > li {\r\n    list-style-type: none;\r\n    width: max-content;\r\n    float: left;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    padding-right: 40px;\r\n}\r\n\r\n#header .bottom .menu ul > li > a:hover {\r\n    color: #b5292f;\r\n}\r\n\r\n#header .bottom .menu .menu-item {\r\n    position: relative;\r\n    height: 100%;\r\n}\r\n\r\n#header .bottom .menu ul .submenu {\r\n    position: absolute;\r\n    height: 150px;\r\n    width: auto;\r\n    border: 1px solid rgba(0, 0, 0, 0.2);\r\n\r\n    border-top: none;\r\n    top: 29px;\r\n    left: 20px;\r\n    display: none;\r\n    background-color: white;\r\n    color: black;\r\n    border-radius: 0;\r\n}\r\n\r\n#header .menu ul > li:hover .submenu {\r\n    display: block;\r\n    border-radius: 0 0 10px 10px;\r\n    padding-top: 10px;\r\n}\r\n\r\n#header .menu ul.submenu > li {\r\n    float: none;\r\n    width: 80px;\r\n    height: 30px;\r\n}\r\n\r\n#header .menu .submenu a {\r\n    position: relative;\r\n}\r\n\r\n#header .menu .submenu i {\r\n    position: absolute;\r\n    left: -25px;\r\n    width: auto;\r\n    height: auto;\r\n}\r\n\r\n#header .bottom .search {\r\n    width: 50%;\r\n    height: 35px;\r\n    display: flex;\r\n    justify-content: end;\r\n    position: relative;\r\n}\r\n\r\n#header .bottom .search input {\r\n    width: 300px;\r\n    padding: 10px;\r\n    border: 1px solid #918f8f;\r\n    border-radius: 20px;\r\n    margin-right: 20px;\r\n    font-weight: 600;\r\n    background: #f9f9f9;\r\n    color: #222222;\r\n    margin: 0;\r\n}\r\n\r\n#header .bottom .search button {\r\n    position: absolute;\r\n    width: 25px;\r\n    height: 25px;\r\n    border: 1px solid #b5292f;\r\n    border-radius: 50%;\r\n    background-color: #b5292f;\r\n    color: white;\r\n    right: 10px;\r\n    top: 5px;\r\n}\r\n\r\n/* Xử lý footer */\r\n#footer {\r\n    width: 100%;\r\n    height: max-content;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #b5292f;\r\n    border-top: 2px solid #e6e6e6;\r\n\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    box-sizing: border-box;\r\n}\r\n\r\n#footer .footer-info {\r\n    width: 100%;\r\n    width: 800px;\r\n    height: 50%;\r\n    display: flex;\r\n}\r\n\r\n#footer .footer-info .left {\r\n    width: 70%;\r\n    color: white;\r\n}\r\n\r\n#footer .footer-info .right {\r\n    width: 30%;\r\n    color: white;\r\n}\r\n\r\n#footer .footer-info .right i {\r\n    color: white;\r\n    font-size: 20px;\r\n    margin: 5px;\r\n}\r\n\r\n#footer .footer-social {\r\n    display: flex;\r\n    gap: 10px;\r\n    color: #e6e6e6;\r\n    margin-top: 20px;\r\n}\r\n\r\n#footer .footer-social a {\r\n    color: white;\r\n    text-decoration: none;\r\n}\r\n\r\n#footer .footer-social .mid {\r\n    margin-left: 100px;\r\n}\r\n\r\n/* Xử lý content */\r\n#content_section {\r\n    font-family: \"popins\", sans-serif;\r\n    min-height: 700px;\r\n    padding: 20px 0;\r\n    background-color: #f2f2f2;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: #333;\r\n}\r\n\r\n#content_section .cart-container {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 20px;\r\n}\r\n\r\n.cart-left {\r\n    width: 100%;\r\n    min-height: 700px;\r\n    background-color: #f9f9f9;\r\n    border-radius: 5px;\r\n}\r\n\r\n.cart-table {\r\n    height: 300px;\r\n    margin-top: 15px;\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.cart-table th {\r\n    font-size: 14px;\r\n    padding: 10px;\r\n    text-align: center;\r\n}\r\n\r\n.cart-table td {\r\n    font-size: 14px;\r\n    padding: 10px 0;\r\n    text-align: center;\r\n    border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.cart-table tr {\r\n    display: table; /* Đảm bảo các hàng vẫn hiển thị như bảng */\r\n    table-layout: fixed; /* Đảm bảo chiều rộng các ô không bị thay đổi */\r\n    width: 100%; /* Chiều rộng toàn bảng */\r\n}\r\n\r\n.cart-table img {\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n\r\n.cart-body {\r\n    display: block; /* Chuyển đổi thành block để có thể cuộn */\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n}\r\n\r\n#cart-items-container::-webkit-scrollbar {\r\n    width: 8px;\r\n}\r\n\r\n#cart-items-container::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n}\r\n\r\n#cart-items-container::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n}\r\n\r\n#cart-items-container::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n}\r\n\r\n.product-img {\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n\r\n.quantity-input {\r\n    width: 50px;\r\n    text-align: center;\r\n}\r\n\r\n.quantity .qty-btn {\r\n    padding: 0 2px;\r\n    border: 1px solid #333333;\r\n}\r\n\r\n.cart-buttons {\r\n    margin-top: 20px;\r\n}\r\n\r\n.select-product {\r\n    margin-right: 10px;\r\n    transform: scale(1.5);\r\n    cursor: pointer;\r\n}\r\n\r\n.continue-btn {\r\n    margin-left: 38%;\r\n    background-color: white; /* Màu chủ đạo */\r\n    border: 2px solid #b5292f; /* Viền màu đỏ */\r\n    color: #b5292f;\r\n    padding: 10px 15px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    transition: background-color 0.3s, transform 0.2s; /* Hiệu ứng khi hover và nhấn */\r\n}\r\n\r\n.continue-btn a {\r\n    color: #222222;\r\n    text-decoration: none;\r\n}\r\n\r\n/* Hiệu ứng khi di chuột vào button */\r\n.continue-btn:hover {\r\n    background-color: #b5292f;\r\n    color: white;\r\n    font-weight: 500; /* Màu sáng hơn khi di chuột */\r\n}\r\n\r\n.fa-trash-can {\r\n    color: #b5292f;\r\n    cursor: pointer;\r\n    font-size: 18px;\r\n    transition: color 0.3s ease, transform 0.2s;\r\n}\r\n\r\n.fa-trash-can:hover {\r\n    color: #b5292f;\r\n    transform: scale(1.2);\r\n}\r\n\r\n.fa-trash-can:active {\r\n    color: #b5292f;\r\n    transform: scale(1.1);\r\n}\r\n\r\n.cart-right h2 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.cart-summary {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.summary-item {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.total {\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n}\r\n\r\n.checkout-btn {\r\n    background-color: #b5292f;\r\n    color: white;\r\n    width: 100%;\r\n    padding: 15px;\r\n    border: none;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    transition: background-color 0.3s, transform 0.2s; /* Hiệu ứng khi hover và nhấn */\r\n}\r\n\r\n.voucher {\r\n    margin-top: 20px;\r\n}\r\n\r\n.voucher label {\r\n    display: block;\r\n    margin-bottom: 10px;\r\n    font-size: 14px;\r\n}\r\n\r\n.voucher input {\r\n    width: calc(100% - 90px);\r\n    padding: 10px;\r\n    margin-right: 10px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 5px;\r\n}\r\n\r\n.apply-btn {\r\n    background-color: #b5292f;\r\n    border: none;\r\n    color: white;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    margin-top: 15px;\r\n    transition: background-color 0.3s, transform 0.2s; /* Hiệu ứng khi hover và nhấn */\r\n}\r\n\r\n/* Cart delete button */\r\n.delete-btn {\r\n    color: white;\r\n    border: none;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/css/cart.css b/src/main/webapp/css/cart.css
--- a/src/main/webapp/css/cart.css	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/css/cart.css	(date 1736641864617)
@@ -466,4 +466,28 @@
     font-size: 14px;
 }
 
+.success-message {
+    background-color: #4caf50; /* Green background for success */
+    color: white; /* White text for contrast */
+    padding: 15px; /* Spacing around the message */
+    border-radius: 5px; /* Rounded corners */
+    font-size: 16px; /* Readable font size */
+    font-weight: bold; /* Emphasized text */
+    text-align: center; /* Center the message */
+    margin-top: 20px; /* Add some space above */
+    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
+    transition: opacity 0.3s ease-in-out; /* Smooth fade-in effect */
+}
+
+.success-message p {
+    margin: 0; /* Remove margin from paragraph */
+}
+
+/* Adding a smooth fade-out effect */
+.success-message.hide {
+    opacity: 0;
+    visibility: hidden;
+}
+
+
 
Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/FoodControllerAjax.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.controllers.user;\r\n\r\nimport hcmuaf.nlu.edu.vn.testproject.models.Category;\r\nimport hcmuaf.nlu.edu.vn.testproject.models.Food;\r\nimport hcmuaf.nlu.edu.vn.testproject.services.CategoryService;\r\nimport hcmuaf.nlu.edu.vn.testproject.services.FoodServiceListFilter;\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = \"FoodControllerAjax\", value = \"/menuajax\")\r\npublic class FoodControllerAjax extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.setContentType(\"text/html;charset=UTF-8\");\r\n\r\n        FoodServiceListFilter foodServiceListFilter = new FoodServiceListFilter();\r\n\r\n        // Lấy số trang, nếu không có thì mặc định là trang 1\r\n        int page = 1;\r\n        if (request.getParameter(\"page\") != null) {\r\n            page = Integer.parseInt(request.getParameter(\"page\"));\r\n        }\r\n        // Tính toán offset\r\n        int pageSize = 10; // Kích thước trang\r\n        int offset = (page - 1) * pageSize;\r\n        List<Food> foodList = new ArrayList<>();\r\n        int totalFoods = 0;\r\n\r\n        // Lấy giá trị option từ request\r\n        String option = request.getParameter(\"option\");\r\n        if (option != null) {\r\n            foodList = foodServiceListFilter.getOption(option); // Lấy danh sách dựa trên option\r\n            totalFoods = foodList.size(); // Tổng số món theo option\r\n\r\n            // Áp dụng phân trang\r\n            foodList = foodList.subList(\r\n                    Math.min(offset, totalFoods),\r\n                    Math.min(offset + pageSize, totalFoods)\r\n            );\r\n        } else {\r\n            response.sendRedirect(request.getContextPath() + \"/search\");\r\n            return;\r\n        }\r\n\r\n        // Tính tổng số trang\r\n        int totalPages = (int) Math.ceil((double) totalFoods / pageSize);\r\n\r\n        // Lấy danh sách danh mục\r\n        CategoryService cs = new CategoryService();\r\n        List<Category> categoryList = cs.getCategories();\r\n\r\n        // Đặt thuộc tính cho JSP\r\n        request.setAttribute(\"list\", foodList);\r\n        request.setAttribute(\"listC\", categoryList);\r\n        request.setAttribute(\"currentPage\", page);\r\n        request.setAttribute(\"totalPages\", totalPages);\r\n\r\n        PrintWriter out = response.getWriter();\r\n        if (foodList.isEmpty()) {\r\n            out.println(\"<h2 style=\\\"max-width: 1200px; text-align: center;\\\"> Không có món ăn phù hợp</h2>\");\r\n        } else {\r\n            out.println(\"<div class=\\\"content_section\\\">\");\r\n            for (Food food : foodList) {\r\n                String addToCartUrl = request.getContextPath() + \"/addtoCart?foodID=\" + food.getIdFood();\r\n                out.println(\"<div class=\\\"card\\\" onclick=\\\"showPopup('\" + food.getIdFood() + \"')\\\">\\n\" +\r\n                        \"                <img src=\\\"\" + food.getImg() + \"\\\" alt=\\\"\" + food.getFoodName() + \"\\\"/>\\n\" +\r\n                        \"                <div class=\\\"card_content\\\">\\n\" +\r\n                        \"                    <h3>\" + food.getFoodName() + \"</h3>\\n\" +\r\n                        \"                    <p>\" + food.getPrice() + \"đ</p>\\n\" +\r\n                        \"                    <a class=\\\"btn\\\" href=\\\"\" + addToCartUrl + \"\\\" onclick=\\\"event.stopPropagation()\\\">\\n\" +\r\n                        \"                        Thêm vào giỏ hàng\\n\" +\r\n                        \"                    </a>\\n\" +\r\n                        \"                </div>\\n\" +\r\n                        \"            </div>\\n\" +\r\n                        \"\\n\" +\r\n                        \"            <!-- Popup chi tiết món ăn -->\\n\" +\r\n                        \"            <div id=\\\"\" + food.getIdFood() + \"\\\" class=\\\"popup\\\">\\n\" +\r\n                        \"                <div class=\\\"popup-content\\\">\\n\" +\r\n                        \"                    <img src=\\\"\" + food.getImg() + \"\\\" alt=\\\"\" + food.getFoodName() + \"\\\"/>\\n\" +\r\n                        \"                    <h3>\" + food.getFoodName() + \"</h3>\\n\" +\r\n                        \"                    <p>Giá: \" + food.getPrice() + \"đ</p>\\n\" +\r\n                        \"                    <span>\\n\" +\r\n                        \"                           \" + food.getDescription() + \"\\n\" +\r\n                        \"                    </span>\\n\" +\r\n                        \"                    <button class=\\\"button-cart\\\">\\n\" +\r\n                        \"                        <a class=\\\"linktocart\\\" href=\\\"\" + addToCartUrl + \"\\\">\\n\" +\r\n                        \"                            Thêm vào giỏ hàng\\n\" +\r\n                        \"                        </a>\\n\" +\r\n                        \"                    </button>\\n\" +\r\n                        \"                </div>\\n\" +\r\n                        \"                <span class=\\\"close\\\" onclick=\\\"closePopup('\" + food.getIdFood() + \"')\\\">&times;</span>\\n\" +\r\n                        \"            </div>\");\r\n            }\r\n            out.println(\"</div>\");\r\n\r\n            out.println(\"<div class=\\\"pagination\\\" style=\\\"width:1200px;margin:0px auto; padding-left:35px; text-align:center;\\\">\");\r\n            for (int i = 1; i <= totalPages; i++) {\r\n                out.println(\"<button onclick=\\\"loadSP('\" + option + \"', \" + i + \")\\\" class=\\\"\" + (page == i ? \"active\" : \"\") + \"\\\">\" + i + \"</button>\");\r\n            }\r\n            out.println(\"</div>\");\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        // Xử lý POST nếu cần\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/FoodControllerAjax.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/FoodControllerAjax.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/FoodControllerAjax.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/FoodControllerAjax.java	(date 1736641864615)
@@ -20,34 +20,25 @@
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
         response.setContentType("text/html;charset=UTF-8");
 
-        FoodServiceListFilter foodServiceListFilter = new FoodServiceListFilter();
+
 
-        // Lấy số trang, nếu không có thì mặc định là trang 1
-        int page = 1;
-        if (request.getParameter("page") != null) {
-            page = Integer.parseInt(request.getParameter("page"));
-        }
-        // Tính toán offset
+        int page = Integer.parseInt(request.getParameter("page"));
+
         int pageSize = 10; // Kích thước trang
         int offset = (page - 1) * pageSize;
-        List<Food> foodList = new ArrayList<>();
         int totalFoods = 0;
 
         // Lấy giá trị option từ request
         String option = request.getParameter("option");
-        if (option != null) {
-            foodList = foodServiceListFilter.getOption(option); // Lấy danh sách dựa trên option
-            totalFoods = foodList.size(); // Tổng số món theo option
+        FoodServiceListFilter foodServiceListFilter = new FoodServiceListFilter();
+        List<Food> foodList = foodServiceListFilter.getOption(option); // Lấy danh sách dựa trên option
+        totalFoods = foodList.size(); // Tổng số món theo option
 
-            // Áp dụng phân trang
-            foodList = foodList.subList(
-                    Math.min(offset, totalFoods),
-                    Math.min(offset + pageSize, totalFoods)
-            );
-        } else {
-            response.sendRedirect(request.getContextPath() + "/search");
-            return;
-        }
+        // Áp dụng phân trang
+        foodList = foodList.subList(
+                Math.min(offset, totalFoods),
+                Math.min(offset + pageSize, totalFoods)
+        );
 
         // Tính tổng số trang
         int totalPages = (int) Math.ceil((double) totalFoods / pageSize);
Index: src/main/webapp/views/allMenu.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" %>\r\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\"/>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n    <title>Menu các món cơm</title>\r\n    <link href=\"${pageContext.request.contextPath}/Images/LOGO_V2.png\" rel=\"icon\" type=\"image/x-icon\"/>\r\n    <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/allmenu_n.css\"/>\r\n    <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/signinCssModule.css\"/>\r\n    <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/module_submenu_catelory.css\"/>\r\n    <link\r\n            rel=\"stylesheet\"\r\n            href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"\r\n    />\r\n    <link\r\n            rel=\"stylesheet\"\r\n            href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\r\n    />\r\n    <script src=\"${pageContext.request.contextPath}/js/module_dangnhap.js\" defer></script>\r\n</head>\r\n<body>\r\n<div id=\"header\">\r\n    <div class=\"containerheaderAll\">\r\n        <div class=\"containers\">\r\n            <div class=\"containerss\">\r\n                <div class=\"left\">\r\n                    <div class=\"logo\">\r\n                        <a href=\"home\">\r\n                            <img src=\"Images/LOGO_V2.png\" alt=\"Food store của Trung, Atuan, Atuan\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <c:if test=\"${sessionScope.currentUser == null}\">\r\n                        <a href=\"login\" class=\"nav-item\" id=\"login-link\">\r\n                            <i class=\"fa-solid fa-user\"></i> Đăng Nhập\r\n                        </a>\r\n                    </c:if>\r\n\r\n                    <c:if test=\"${sessionScope.currentUser != null}\">\r\n                        <div class=\"user-menu\" id=\"user-menu\">\r\n                            <i class=\"fa-solid fa-user\"></i>\r\n                            <a href=\"#\" class=\" user-name\" id=\"user-name\">\r\n                                    ${sessionScope.currentUser.userName}\r\n                            </a>\r\n                            <div class=\"submenu\" id=\"submenu\">\r\n                                <c:if test=\"${sessionScope.currentUser.idRole == 1}\">\r\n                                    <a href=\"admin\" id=\"admin-link\">Quản trị</a>\r\n                                </c:if>\r\n                                <c:if test=\"${sessionScope.currentUser.idRole == 2}\">\r\n                                    <a href=\"user\" id=\"user-link\">Thông tin</a>\r\n                                </c:if>\r\n                                <a href=\"logout\" id=\"logout\">Đăng xuất</a>\r\n                            </div>\r\n                        </div>\r\n                    </c:if>\r\n                    <div class=\"nav_item_shop\">\r\n                        <a href=\"order\" class=\"nav-item\">\r\n                            <i class=\"fa-solid fa-truck-fast\"></i> Đơn hàng\r\n                        </a>\r\n                        <a href=\"order\" class=\"count\">2</a>\r\n                    </div>\r\n                    <div class=\"nav_item_shop\">\r\n                        <a href=\"cart\" class=\"nav-item\">\r\n                            <i class=\"fa-solid fa-basket-shopping\"></i> Giỏ hàng\r\n                        </a>\r\n                        <a href=\"cart\" class=\"count\">\r\n                            <c:if test=\"${not empty sessionScope.totalItems}\">\r\n                                ${sessionScope.totalItems}\r\n                            </c:if>\r\n                            <c:if test=\"${empty sessionScope.totalItems}\">\r\n                                0\r\n                            </c:if>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"bottom\">\r\n                <div class=\"menu\">\r\n                    <ul class=\"menu-list\">\r\n\r\n                        <li class=\"menu-item\">\r\n                            <a href=\"allmenu?option=tatca\" class=\"tabbar\"> <i class=\"fa-solid fa-bars\"></i>Thực đơn</a>\r\n                            <ul class=\"submenu\">\r\n                                <li><a href=\"allmenu?option=tatca\"><i class=\"fa-solid fa-bowl-rice\"></i>Tất cả</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=1\"><i class=\"fa-solid fa-bowl-rice\"></i>Món cơm</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=2\"><i class=\"fa-solid fa-bowl-food\"></i>Món bún</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=3\"><i class=\"fa-solid fa-bowl-food\"></i>Món phở</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=4\"><i class=\"fa-solid fa-glass-water\"></i>Nước</a>\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li class=\"menu-item\"><a href=\"home\">Trang chủ</a></li>\r\n\r\n                        <li class=\"menu-item\"><a href=\"about\">Giới thiệu</a></li>\r\n                        <li class=\"menu-item\"><a href=\"contactcontrolle\">Liên hệ</a></li>\r\n                    </ul>\r\n                </div>\r\n                <div class=\"search\">\r\n                    <form action=\"AjaxSearchController\" method=\"get\">\r\n                        <input oninput=\"searchByName(this)\" value=\"${txtS}\" name=\"text\" type=\"text\"\r\n                               placeholder=\"Tìm kiếm món ăn\"/>\r\n                        <button id=\"deadbuton\" type=\"submit\">\r\n                            <i class=\"fa-solid fa-search\"></i>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id=\"container\">\r\n    <div class=\"intro\">\r\n        <h2>Khám Phá Thực Đơn Của Chúng Tôi</h2>\r\n        <div class=\"category-container\">\r\n            <a href=\"allmenu?option=tatca\">\r\n                <div class=\"category-item\">Tất cả</div>\r\n            </a>\r\n            <a href=\"allmenu?option=danhgiacao\">\r\n                <div class=\"category-item\">Món được đánh giá cao</div>\r\n            </a>\r\n            <a href=\"allmenu?option=dexuat\">\r\n                <div class=\"category-item\">Món được đề xuất</div>\r\n            </a>\r\n            <a href=\"allmenu?option=quantam\">\r\n                <div class=\"category-item\">Món được quan tâm nhiều</div>\r\n            </a>\r\n            <a href=\"allmenu?option=banchay\">\r\n                <div class=\"category-item\">Món bán chạy</div>\r\n            </a>\r\n\r\n            <c:forEach var=\"category\" items=\"${listC}\">\r\n                <a href=\"allmenu?option=${category.idCategory}\">\r\n                    <div class=\"category-item\">${category.nameCategory}</div>\r\n                </a>\r\n            </c:forEach>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div id=\"content_section\">\r\n        <div class=\"content_section\">\r\n        <c:forEach var=\"food\" items=\"${list}\">\r\n            <div class=\"card\" onclick=\"showPopup('${food.idFood}')\">\r\n                <img src=\"${food.img}\" alt=\"${food.foodName}\"/>\r\n                <div class=\"card_content\">\r\n                    <h3>${food.foodName}</h3>\r\n                    <p>${food.price}đ</p>\r\n                    <c:url value=\"addtoCart?foodID=${food.idFood}\" var=\"addtoCart\"/>\r\n                    <a class=\"btn\" onclick=\"event.stopPropagation()\" href=\"${addtoCart}\">\r\n                        Thêm vào giỏ hàng\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Popup chi tiết món ăn -->\r\n            <div id=\"${food.idFood}\" class=\"popup\">\r\n                <div class=\"popup-content\">\r\n                    <img src=\"${food.img}\" alt=\"${food.foodName}\"/>\r\n                    <h3>${food.foodName}</h3>\r\n                    <p>Giá: ${food.price}đ</p>\r\n                    <span>\r\n                            ${food.description} <br>\r\n                    </span>\r\n                    <button class=\"button-cart\">\r\n\r\n                        <a class=\"linktocart\" href=\"${addtoCart}\">\r\n                            Thêm vào giỏ hàng\r\n                        </a>\r\n                    </button>\r\n                </div>\r\n                <span class=\"close\" onclick=\"closePopup('${food.idFood}')\">&times;</span>\r\n            </div>\r\n        </c:forEach>\r\n        </div>\r\n        <div class=\"pagination\" style=\"width:1200px;margin:0px auto; padding-left:35px; text-align:center;\">\r\n\r\n            <c:forEach begin=\"1\" end=\"${totalPages}\" var=\"i\">\r\n                <button onclick=\"loadSP('${param.option}', ${i})\" class=\"${currentPage == i ? 'active' : ''}\">${i}</button>\r\n            </c:forEach>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <%--    <div class=\"pagination\" style=\"width:1200px;margin:0px auto; padding-left:35px ;  text-align:center;\">--%>\r\n    <%--        <c:if test=\"${currentPage > 1}\">--%>\r\n    <%--            <a onclick=\"\" href=\"allmenu?option=${param.option}&page=${currentPage - 1}\"><</a>--%>\r\n    <%--        </c:if>--%>\r\n\r\n    <%--        <c:forEach begin=\"1\" end=\"${totalPages}\" var=\"i\">--%>\r\n    <%--            <a href=\"allmenu?option=${param.option}&page=${i}\" class=\"${currentPage == i ? 'active' : ''}\">${i}</a>--%>\r\n    <%--        </c:forEach>--%>\r\n\r\n    <%--        <c:if test=\"${currentPage < totalPages}\">--%>\r\n    <%--            <a href=\"allmenu?option=${param.option}&page=${currentPage + 1}\">></a>--%>\r\n    <%--        </c:if>--%>\r\n    <%--    </div>--%>\r\n\r\n\r\n</div>\r\n\r\n<!-- Xử lý footer -->\r\n<jsp:include page=\"footer.jsp\"></jsp:include>\r\n<script>\r\n    document.getElementById(\"deadbuton\").addEventListener(\"click\", function (event) {\r\n        event.preventDefault();\r\n    });\r\n</script>\r\n<script src=\"${pageContext.request.contextPath}/js/module_search_ajax.js\"></script>\r\n<script src=\"${pageContext.request.contextPath}/js/test_module_load_ajax.js\"></script>\r\n<script src=\"${pageContext.request.contextPath}/js/menu.js\"></script>\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js\"></script>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/views/allMenu.jsp b/src/main/webapp/views/allMenu.jsp
--- a/src/main/webapp/views/allMenu.jsp	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/views/allMenu.jsp	(date 1736641864621)
@@ -174,7 +174,7 @@
                     </span>
                     <button class="button-cart">
 
-                        <a class="linktocart" href="${addtoCart}">
+                        <a class="linktocart" href="${addtoCart}" >
                             Thêm vào giỏ hàng
                         </a>
                     </button>
@@ -192,20 +192,6 @@
         </div>
     </div>
 
-    <%--    <div class="pagination" style="width:1200px;margin:0px auto; padding-left:35px ;  text-align:center;">--%>
-    <%--        <c:if test="${currentPage > 1}">--%>
-    <%--            <a onclick="" href="allmenu?option=${param.option}&page=${currentPage - 1}"><</a>--%>
-    <%--        </c:if>--%>
-
-    <%--        <c:forEach begin="1" end="${totalPages}" var="i">--%>
-    <%--            <a href="allmenu?option=${param.option}&page=${i}" class="${currentPage == i ? 'active' : ''}">${i}</a>--%>
-    <%--        </c:forEach>--%>
-
-    <%--        <c:if test="${currentPage < totalPages}">--%>
-    <%--            <a href="allmenu?option=${param.option}&page=${currentPage + 1}">></a>--%>
-    <%--        </c:if>--%>
-    <%--    </div>--%>
-
 
 </div>
 
Index: src/main/webapp/views/header.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" %>\r\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\r\n<div id=\"header\">\r\n    <div class=\"containerheaderAll\">\r\n        <div class=\"containers\">\r\n            <div class=\"containerss\">\r\n                <div class=\"left\">\r\n                    <div class=\"logo\">\r\n                        <a href=\"home\">\r\n                            <img src=\"Images/LOGO_V2.png\" alt=\"Food store của Trung, Atuan, Atuan\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"right\">\r\n                    <c:if test=\"${sessionScope.currentUser == null}\">\r\n                        <a href=\"login\" class=\"nav-item\" id=\"login-link\">\r\n                            <i class=\"fa-solid fa-user\"></i> Đăng Nhập\r\n                        </a>\r\n                    </c:if>\r\n\r\n                    <c:if test=\"${sessionScope.currentUser != null}\">\r\n                        <div class=\"user-menu\" id=\"user-menu\">\r\n                            <i class=\"fa-solid fa-user\"></i>\r\n                            <a href=\"#\" class=\" user-name\" id=\"user-name\">\r\n                                    ${sessionScope.currentUser.userName}\r\n                            </a>\r\n                            <div class=\"submenu\" id=\"submenu\">\r\n                                <c:if test=\"${sessionScope.currentUser.idRole == 1}\">\r\n                                    <a href=\"admin\" id=\"admin-link\">Quản trị</a>\r\n                                </c:if>\r\n                                <c:if test=\"${sessionScope.currentUser.idRole == 2}\">\r\n                                    <a href=\"user\" id=\"user-link\">Thông tin</a>\r\n                                </c:if>\r\n                                <a href=\"logout\" id=\"logout\">Đăng xuất</a>\r\n                            </div>\r\n                        </div>\r\n                    </c:if>\r\n                    <div class=\"nav_item_shop\">\r\n                        <a href=\"order\" class=\"nav-item\">\r\n                            <i class=\"fa-solid fa-truck-fast\"></i> Đơn hàng\r\n                        </a>\r\n                        <a href=\"order\" class=\"count\">2</a>\r\n                    </div>\r\n                    <div class=\"nav_item_shop\">\r\n                        <a href=\"cart\" class=\"nav-item\">\r\n                            <i class=\"fa-solid fa-basket-shopping\"></i> Giỏ hàng\r\n                        </a>\r\n                        <a href=\"cart\" class=\"count\">\r\n                            <c:if test=\"${not empty sessionScope.totalItems}\">\r\n                                ${sessionScope.totalItems}\r\n                            </c:if>\r\n                            <c:if test=\"${empty sessionScope.totalItems}\">\r\n                                0\r\n                            </c:if>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"bottom\">\r\n                <div class=\"menu\">\r\n                    <ul class=\"menu-list\">\r\n\r\n                        <li class=\"menu-item\">\r\n                            <a href=\"allmenu?option=tatca\" class=\"tabbar\"> <i class=\"fa-solid fa-bars\"></i>Thực đơn</a>\r\n                            <ul class=\"submenu\">\r\n                                <li><a href=\"allmenu?option=tatca\"><i class=\"fa-solid fa-bowl-rice\"></i>Tất cả</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=1\"><i class=\"fa-solid fa-bowl-rice\"></i>Món cơm</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=2\"><i class=\"fa-solid fa-bowl-food\"></i>Món bún</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=3\"><i class=\"fa-solid fa-bowl-food\"></i>Món phở</a>\r\n                                </li>\r\n                                <li><a href=\"allmenu?option=4\"><i class=\"fa-solid fa-glass-water\"></i>Nước</a>\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li class=\"menu-item\"><a href=\"home\">Trang chủ</a></li>\r\n\r\n                        <li class=\"menu-item\"><a href=\"about\">Giới thiệu</a></li>\r\n                        <li class=\"menu-item\"><a href=\"contactcontrolle\">Liên hệ</a></li>\r\n                    </ul>\r\n                </div>\r\n                <div class=\"search\">\r\n                    <form action=\"search\" method=\"get\">\r\n                        <input value=\"${txtS}\" name=\"text\" type=\"text\" placeholder=\"Tìm kiếm món ăn\"/>\r\n                        <button type=\"submit\">\r\n                            <i class=\"fa-solid fa-search\"></i>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/views/header.jsp b/src/main/webapp/views/header.jsp
--- a/src/main/webapp/views/header.jsp	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/views/header.jsp	(date 1736641864621)
@@ -30,7 +30,7 @@
                                     <a href="admin" id="admin-link">Quản trị</a>
                                 </c:if>
                                 <c:if test="${sessionScope.currentUser.idRole == 2}">
-                                    <a href="user" id="user-link">Thông tin</a>
+                                    <a href="AccDetail" id="user-link">Thông tin</a>
                                 </c:if>
                                 <a href="logout" id="logout">Đăng xuất</a>
                             </div>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ArtifactsWorkspaceSettings\">\r\n    <artifacts-to-build>\r\n      <artifact name=\"testProject\" />\r\n    </artifacts-to-build>\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"1b577079-df54-4f83-82a8-59695a8c1873\" name=\"Changes\" comment=\"test\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/artifacts/testProject.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/artifacts/testProject.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/context/DbContext.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/context/DbContext.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"CompilerWorkspaceConfiguration\">\r\n    <option name=\"MAKE_PROJECT_ON_SAVE\" value=\"true\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"servlet\" />\r\n        <option value=\"Interface\" />\r\n        <option value=\"Jsp File\" />\r\n        <option value=\"Servlet\" />\r\n        <option value=\"Class\" />\r\n        <option value=\"JavaScript File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;NguyenAnhTuan22130311&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/NguyenAnhTuan22130312/LTWEB_FINAL_TERM.git&quot;,\r\n    &quot;accountId&quot;: &quot;711777fb-6a46-4549-961e-a2bf0967db8a&quot;\r\n  }\r\n}</component>\r\n  <component name=\"KubernetesApiPersistence\">{}</component>\r\n  <component name=\"KubernetesApiProvider\">{\r\n  &quot;isMigrated&quot;: true\r\n}</component>\r\n  <component name=\"LogFilters\">\r\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\r\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\r\n    <option name=\"FILTER_INFO\" value=\"true\" />\r\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\r\n    <option name=\"CUSTOM_FILTER\" />\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"mavenHomeTypeForPersistence\" value=\"WRAPPER\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"Security Analysis\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 0\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2qRVSt5ul6Vg0Pnvix8oRrxCeLz\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Application.AccdetailDAO.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.BannerDao.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.BannerService.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.ContactController.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.ContactDao.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.ContactService.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.DbContext.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.FoodCartDAO.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.FoodDAO.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.InvoiceDAO.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.LoginDAO.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.MD5.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.Order.executor&quot;: &quot;Run&quot;,\r\n    &quot;Application.SignUpDAO.executor&quot;: &quot;Run&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\r\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\r\n    &quot;Tomcat Server.Tomcat 10.1.31.executor&quot;: &quot;Run&quot;,\r\n    &quot;Tomcat Server.da.executor&quot;: &quot;Run&quot;,\r\n    &quot;deletionFromPopupRequiresConfirmation&quot;: &quot;false&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;G:/Nam3HocKy1/BTLapTrinhWeb/gitdoanck/LTWEB_FINAL_TERM/src/main/webapp/css&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;project.structure.last.edited&quot;: &quot;Artifacts&quot;,\r\n    &quot;project.structure.proportion&quot;: &quot;0.15039062&quot;,\r\n    &quot;project.structure.side.proportion&quot;: &quot;0.2&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;fileTemplates&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"G:\\Nam3HocKy1\\BTLapTrinhWeb\\gitdoanck\\LTWEB_FINAL_TERM\\src\\main\\webapp\\css\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"hcmuaf.nlu.edu.vn.testproject.daos\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Tomcat Server.Tomcat 10.1.31\">\r\n    <configuration name=\"InvoiceDAO\" type=\"Application\" factoryName=\"Application\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"hcmuaf.nlu.edu.vn.testproject.daos.InvoiceDAO\" />\r\n      <module name=\"testProject\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"hcmuaf.nlu.edu.vn.testproject.daos.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"Tomcat 10.1.31\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 10.1.31\" ALTERNATIVE_JRE_ENABLED=\"false\" nameIsGenerated=\"true\">\r\n      <option name=\"UPDATING_POLICY\" value=\"restart-server\" />\r\n      <deployment>\r\n        <artifact name=\"testProject\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/testProject\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"58e5530e-8f30-4244-96f8-bb4ba25503f8\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"56961\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Profile\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"testProject\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n    <list>\r\n      <item itemvalue=\"Application.InvoiceDAO\" />\r\n      <item itemvalue=\"Tomcat Server.Tomcat 10.1.31\" />\r\n    </list>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Application.InvoiceDAO\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-jdk-9823dce3aa75-28b599e66164-intellij.indexing.shared.core-IU-242.23726.103\" />\r\n        <option value=\"bundled-js-predefined-d6986cc7102b-5c90d61e3bab-JavaScript-IU-242.23726.103\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"1b577079-df54-4f83-82a8-59695a8c1873\" name=\"Changes\" comment=\"\" />\r\n      <created>1734625377476</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1734625377476</updated>\r\n      <workItem from=\"1734625378675\" duration=\"9140000\" />\r\n      <workItem from=\"1734704410804\" duration=\"1847000\" />\r\n      <workItem from=\"1734794978961\" duration=\"853000\" />\r\n      <workItem from=\"1734796248428\" duration=\"4335000\" />\r\n      <workItem from=\"1734804965306\" duration=\"21000\" />\r\n      <workItem from=\"1734809321924\" duration=\"2207000\" />\r\n      <workItem from=\"1734887135268\" duration=\"1239000\" />\r\n      <workItem from=\"1734895809052\" duration=\"8966000\" />\r\n      <workItem from=\"1734927841486\" duration=\"7987000\" />\r\n      <workItem from=\"1735055320504\" duration=\"3449000\" />\r\n      <workItem from=\"1735089455607\" duration=\"1312000\" />\r\n      <workItem from=\"1735090778404\" duration=\"153000\" />\r\n      <workItem from=\"1735090945938\" duration=\"124000\" />\r\n      <workItem from=\"1735091079579\" duration=\"108000\" />\r\n      <workItem from=\"1735091866485\" duration=\"150000\" />\r\n      <workItem from=\"1735092045242\" duration=\"6506000\" />\r\n      <workItem from=\"1735099515219\" duration=\"3369000\" />\r\n      <workItem from=\"1735103005363\" duration=\"784000\" />\r\n      <workItem from=\"1735109589576\" duration=\"12384000\" />\r\n      <workItem from=\"1735137908404\" duration=\"53000\" />\r\n      <workItem from=\"1735138083850\" duration=\"3452000\" />\r\n      <workItem from=\"1735303080614\" duration=\"8972000\" />\r\n      <workItem from=\"1735338368983\" duration=\"6613000\" />\r\n      <workItem from=\"1735396518345\" duration=\"2633000\" />\r\n      <workItem from=\"1736144229406\" duration=\"831000\" />\r\n      <workItem from=\"1736259331705\" duration=\"11710000\" />\r\n      <workItem from=\"1736382235121\" duration=\"4344000\" />\r\n      <workItem from=\"1736459138776\" duration=\"489000\" />\r\n      <workItem from=\"1736459640083\" duration=\"1248000\" />\r\n      <workItem from=\"1736477845212\" duration=\"17612000\" />\r\n      <workItem from=\"1736505832039\" duration=\"385000\" />\r\n      <workItem from=\"1736540391409\" duration=\"4738000\" />\r\n      <workItem from=\"1736609453309\" duration=\"1307000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"update newhome, food\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734808436139</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734808436139</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"update home\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734899532346</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734899532346</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"da fix xong trang new home va allmenu\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734903568528</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734903568528</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"fix them teo trang home voi menu\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734905092052</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734905092052</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"fix link\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734905730507</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734905730507</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"fix duoc contact rui\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734988480026</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734988480026</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"chinh de khi sua duoc sesion\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734988646671</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734988646671</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"chinh de khi sua duoc sesion\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1734988662136</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1734988662136</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"fix menu, do an theo category\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735015521936</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735015521936</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"fix menu, do an theo category\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735015529230</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735015529230</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"toi uu foodcontroller, da fix duoc phan trang\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735034677874</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735034677874</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"fix contact\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735056645230</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735056645230</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"fix duoc banner\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735117425037</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735117425037</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"nhưng buoc dau cua AjaxSearchController\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735149148795</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735149148795</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"block button search\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735154800537</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735154800537</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"dang loi contact\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1735189100675</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1735189100675</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"fix review roi\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736460796279</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736460796279</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"fix nhe card food\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736480936552</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736480936552</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"fix phan trang\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736489737674</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736489737674</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"sua checkout\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736492636534</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736492636534</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"fix duoc phan trang\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736498691033</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736498691033</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"da hoan thanh fix trang menu\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736500089276</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736500089276</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"test\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1736531872682</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1736531872682</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"24\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"update newhome, food\" />\r\n    <MESSAGE value=\"update home\" />\r\n    <MESSAGE value=\"da fix xong trang new home va allmenu\" />\r\n    <MESSAGE value=\"fix them teo trang home voi menu\" />\r\n    <MESSAGE value=\"fix link\" />\r\n    <MESSAGE value=\"fix duoc contact rui\" />\r\n    <MESSAGE value=\"chinh de khi sua duoc sesion\" />\r\n    <MESSAGE value=\"fix menu, do an theo category\" />\r\n    <MESSAGE value=\"toi uu foodcontroller, da fix duoc phan trang\" />\r\n    <MESSAGE value=\"fix contact\" />\r\n    <MESSAGE value=\"fix duoc banner\" />\r\n    <MESSAGE value=\"nhưng buoc dau cua AjaxSearchController\" />\r\n    <MESSAGE value=\"block button search\" />\r\n    <MESSAGE value=\"dang loi contact\" />\r\n    <MESSAGE value=\"fix review roi\" />\r\n    <MESSAGE value=\"fix nhe card food\" />\r\n    <MESSAGE value=\"fix phan trang\" />\r\n    <MESSAGE value=\"sua checkout\" />\r\n    <MESSAGE value=\"fix duoc phan trang\" />\r\n    <MESSAGE value=\"da hoan thanh fix trang menu\" />\r\n    <MESSAGE value=\"test\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"test\" />\r\n  </component>\r\n  <component name=\"XSLT-Support.FileAssociations.UIState\">\r\n    <expand />\r\n    <select />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/.idea/workspace.xml	(date 1736641872066)
@@ -10,11 +10,13 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="1b577079-df54-4f83-82a8-59695a8c1873" name="Changes" comment="test">
-      <change beforePath="$PROJECT_DIR$/.idea/artifacts/testProject.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/artifacts/testProject.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/context/DbContext.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/context/DbContext.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/daos/InvoiceDAO.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/hcmuaf/nlu/edu/vn/testproject/models/InvoiceDetail.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/views/header.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/views/header.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/views/statistical.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/views/statistical.jsp" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -155,7 +157,7 @@
         </artifact>
       </deployment>
       <server-settings>
-        <option name="BASE_DIRECTORY_NAME" value="58e5530e-8f30-4244-96f8-bb4ba25503f8" />
+        <option name="BASE_DIRECTORY_NAME" value="8aa5f059-012e-4a94-bb30-28ecb6a981da" />
       </server-settings>
       <predefined_log_file enabled="true" id="Tomcat" />
       <predefined_log_file enabled="true" id="Tomcat Catalina" />
@@ -163,7 +165,7 @@
       <predefined_log_file id="Tomcat Host Manager" />
       <predefined_log_file id="Tomcat Localhost Access" />
       <RunnerSettings RunnerId="Debug">
-        <option name="DEBUG_PORT" value="56961" />
+        <option name="DEBUG_PORT" value="62021" />
       </RunnerSettings>
       <ConfigurationWrapper VM_VAR="JAVA_OPTS" RunnerId="Cover">
         <option name="USE_ENV_VARIABLES" value="true" />
Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.controllers.admin;\r\n\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\nimport java.io.IOException;\r\n\r\n@WebServlet(name = \"StatisticalController\", value = \"/statistical\")\r\npublic class StatisticalController extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.setContentType(\"text/html;charset=UTF-8\");\r\n        request.getRequestDispatcher(\"views/statistical.jsp\").forward(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/admin/StatisticalController.java	(date 1736641864613)
@@ -1,10 +1,13 @@
 package hcmuaf.nlu.edu.vn.testproject.controllers.admin;
 
+import hcmuaf.nlu.edu.vn.testproject.daos.InvoiceDAO;
+import hcmuaf.nlu.edu.vn.testproject.models.InvoiceDetail;
 import jakarta.servlet.*;
 import jakarta.servlet.http.*;
 import jakarta.servlet.annotation.*;
 
 import java.io.IOException;
+import java.util.List;
 
 @WebServlet(name = "StatisticalController", value = "/statistical")
 public class StatisticalController extends HttpServlet {
@@ -12,6 +15,23 @@
     @Override
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
         response.setContentType("text/html;charset=UTF-8");
+        InvoiceDAO dao = new InvoiceDAO();
+        List<InvoiceDetail> invoiceDetails = dao.getInvoiceDetails();
+
+        int totalProducts = invoiceDetails.size();
+        int totalQuantity = 0;
+        int totalPrice = 0;
+
+        for (InvoiceDetail invoiceDetail : invoiceDetails) {
+            totalQuantity += invoiceDetail.getQuantity();
+            totalPrice += invoiceDetail.getTotalAmount();
+
+        }
+
+        request.setAttribute("invoiceDetails", invoiceDetails);
+        request.setAttribute("totalProducts", totalProducts);
+        request.setAttribute("totalQuantity", totalQuantity);
+        request.setAttribute("totalRevenue", totalPrice);
         request.getRequestDispatcher("views/statistical.jsp").forward(request, response);
     }
 
Index: src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package hcmuaf.nlu.edu.vn.testproject.controllers.user;\r\n\r\n\r\nimport hcmuaf.nlu.edu.vn.testproject.daos.FoodCartDAO;\r\nimport hcmuaf.nlu.edu.vn.testproject.daos.InvoiceDAO;\r\nimport hcmuaf.nlu.edu.vn.testproject.models.*;\r\nimport hcmuaf.nlu.edu.vn.testproject.services.FoodService;\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\n\r\n@WebServlet(name = \"CheckoutController\", value = \"/checkout\")\r\npublic class CheckoutController extends HttpServlet {\r\n\r\n\r\n    private FoodService foodService;\r\n\r\n\r\n    @Override\r\n    public void init() throws ServletException {\r\n        foodService = new FoodCartDAO();\r\n        super.init();\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        HttpSession session = request.getSession();\r\n\r\n        // Kiểm tra xem người dùng đã đăng nhập chưa (kiểm tra session attribute \"currentUser\")\r\n        Account currentUser = (Account) session.getAttribute(\"currentUser\");\r\n\r\n        if (currentUser == null) {\r\n\r\n            response.sendRedirect(\"login\");\r\n        } else {\r\n            // Nếu người dùng đã đăng nhập, tiếp tục với việc thanh toán\r\n            Order order = (Order) session.getAttribute(\"order\");\r\n\r\n            if (order == null || order.getItems().isEmpty()) {\r\n                response.sendRedirect(\"cart\"); // Nếu giỏ hàng trống, chuyển về giỏ hàng\r\n            } else {\r\n                // Tính toán tổng tiền và truyền dữ liệu đến trang thanh toán\r\n                int totalAmount = 0;\r\n                for (Item item : order.getItems()) {\r\n                    totalAmount += item.getQuantity() * item.getFood().getPrice();\r\n                }\r\n                request.setAttribute(\"order\", order);\r\n                request.setAttribute(\"totalAmount\", totalAmount);\r\n                RequestDispatcher dispatcher = request.getRequestDispatcher(\"views/check-out.jsp\");\r\n                dispatcher.forward(request, response);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        // Lấy thông tin từ form và session\r\n        HttpSession session = request.getSession();\r\n        Account currentUser = (Account) session.getAttribute(\"currentUser\");\r\n        int idAcc = currentUser.getIdAcc();\r\n\r\n\r\n        // id của tài khoản từ session\r\n        String recipientName = request.getParameter(\"tennguoinhan\");\r\n        String phoneNumber = request.getParameter(\"sdtnhan\");\r\n        String deliveryAddress = request.getParameter(\"diachinhan\");\r\n\r\n\r\n        String note = request.getParameter(\"note-order\");\r\n        int totalAmount = Integer.parseInt(request.getParameter(\"totalAmount\"));\r\n        int paymentMethod = Integer.parseInt(request.getParameter(\"paymentMethod\"));\r\n\r\n        // Tạo thời gian hiện tại (ngày giờ)\r\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\r\n        String orderDate = sdf.format(new Date());\r\n\r\n        // Tạo đối tượng Invoice từ thông tin form\r\n        Invoice invoice = new Invoice();\r\n        invoice.setIdAcc(idAcc);\r\n        invoice.setRecipientName(recipientName);\r\n        invoice.setPhoneNumber(phoneNumber);\r\n        invoice.setDeliveryAddress(deliveryAddress);\r\n        invoice.setNote(note);\r\n        invoice.setOrderDate(orderDate);\r\n        invoice.setTotalAmount(totalAmount);\r\n        invoice.setPaymentMethod(paymentMethod);\r\n\r\n        // Khởi tạo DAO để lưu thông tin vào database\r\n        InvoiceDAO invoiceDAO = new InvoiceDAO();\r\n\r\n        try {\r\n            // Thêm hóa đơn vào cơ sở dữ liệu\r\n            invoiceDAO.addInvoice(invoice);\r\n            Order order = (Order) session.getAttribute(\"order\");\r\n\r\n            for (Item item : order.getItems()) {\r\n                InvoiceDetail detail = new InvoiceDetail();\r\n                detail.setIdInvoice(invoice.getIdInvoice());\r\n                detail.setIdFood(item.getFood().getIdFood());\r\n                detail.setQuantity(item.getQuantity());\r\n                detail.setTotalAmount(item.getQuantity() * item.getFood().getPrice());\r\n\r\n                // Thêm chi tiết hóa đơn vào cơ sở dữ liệu\r\n                invoiceDAO.addInvoiceDetail(detail);\r\n            }\r\n\r\n            // Sau khi thêm thành công, chuyển hướng đến trang thành công\r\n            response.sendRedirect(\"home\");\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            response.sendRedirect(\"checkout.jsp?error=true\");\r\n        }\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java
--- a/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/java/hcmuaf/nlu/edu/vn/testproject/controllers/user/CheckoutController.java	(date 1736641864613)
@@ -113,9 +113,9 @@
                 // Thêm chi tiết hóa đơn vào cơ sở dữ liệu
                 invoiceDAO.addInvoiceDetail(detail);
             }
-
-            // Sau khi thêm thành công, chuyển hướng đến trang thành công
-            response.sendRedirect("home");
+            session.removeAttribute("order");
+            session.setAttribute("paymentSuccessMessage", "Thanh toán thành công!");
+            response.sendRedirect("cart");
         } catch (Exception e) {
             e.printStackTrace();
             response.sendRedirect("checkout.jsp?error=true");
Index: src/main/webapp/views/statistical.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" %>\r\n<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\"/>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n    <title>Thống kê</title>\r\n    <link href=\"Images/LOGO_V2.png\" rel=\"icon\" type=\"image/x-icon\"/>\r\n    <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/statistical.css\"/>\r\n\r\n    <link\r\n            rel=\"stylesheet\"\r\n            href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"\r\n    />\r\n</head>\r\n<body>\r\n<jsp:include page=\"leftAdmin.jsp\"></jsp:include>\r\n\r\n<div class=\"content\">\r\n    <div class=\"header\">\r\n        <select>\r\n            <option>Tất cả</option>\r\n        </select>\r\n        <input placeholder=\"Tìm kiếm tên món...\" type=\"text\"/>\r\n        <input\r\n                onblur=\"(this.type='text')\"\r\n                onfocus=\"(this.type='date')\"\r\n                placeholder=\"Từ\"\r\n                type=\"text\"\r\n        />\r\n        <input\r\n                onblur=\"(this.type='text')\"\r\n                onfocus=\"(this.type='date')\"\r\n                placeholder=\"Đến\"\r\n                type=\"text\"\r\n        />\r\n        <div class=\"icons\">\r\n            <i class=\"fas fa-sort-amount-down\"> </i>\r\n            <i class=\"fas fa-sort-amount-up\"> </i>\r\n            <i class=\"fas fa-sync-alt\"> </i>\r\n        </div>\r\n    </div>\r\n    <div class=\"summary\">\r\n        <div class=\"card\">\r\n            <i class=\"fas fa-utensils\"> </i>\r\n            <div class=\"text\">\r\n                <p>Sản phẩm được bán ra</p>\r\n                <p class=\"number\">3</p>\r\n            </div>\r\n        </div>\r\n        <div class=\"card\">\r\n            <i class=\"fas fa-file-alt\"> </i>\r\n            <div class=\"text\">\r\n                <p>Số lượng bán ra</p>\r\n                <p class=\"number\">7</p>\r\n            </div>\r\n        </div>\r\n        <div class=\"card\">\r\n            <i class=\"fas fa-dollar-sign\"> </i>\r\n            <div class=\"text\">\r\n                <p>Doanh thu</p>\r\n                <p class=\"number\">330.000 đ</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <table>\r\n        <thead>\r\n        <tr>\r\n            <th>STT</th>\r\n            <th>TÊN MÓN</th>\r\n            <th>SỐ LƯỢNG BÁN</th>\r\n            <th>DOANH THU</th>\r\n            <th></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr>\r\n            <td>1</td>\r\n            <td class=\"product_name\">\r\n                <img\r\n                        alt=\"Đậu hũ xào nấm chay\"\r\n                        height=\"50\"\r\n                        src=\"../Images/Food/Com/Com-chien-duong-chau.png\"\r\n                />\r\n                Cơm chiên dương châu\r\n            </td>\r\n            <td>7</td>\r\n            <td>210.000 đ</td>\r\n            <td>\r\n                <button class=\"details-button\">\r\n                    <i class=\"fas fa-eye\"> </i>\r\n                    CHI TIẾT\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>2</td>\r\n            <td class=\"product_name\">\r\n                <img\r\n                        alt=\"Miến xào rau củ chay\"\r\n                        height=\"50\"\r\n                        src=\"../Images/Food/Com/Com-chien-ga-xoi-mo.png\"\r\n                />\r\n                Cơm gà xối mỡ\r\n            </td>\r\n            <td>3</td>\r\n            <td>90.000 đ</td>\r\n            <td>\r\n                <button class=\"details-button\">\r\n                    <i class=\"fas fa-eye\"> </i>\r\n                    CHI TIẾT\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>3</td>\r\n            <td class=\"product_name\">\r\n                <img\r\n                        alt=\"Phở bò tái\"\r\n                        height=\"50\"\r\n                        src=\"../Images/Food/Pho/Pho-bo-tai.png\"\r\n                        width=\"50\"\r\n                />\r\n                Phở bò tái\r\n            </td>\r\n            <td>1</td>\r\n            <td>30.000 đ</td>\r\n            <td>\r\n                <button class=\"details-button\">\r\n                    <i class=\"fas fa-eye\"> </i>\r\n                    CHI TIẾT\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/views/statistical.jsp b/src/main/webapp/views/statistical.jsp
--- a/src/main/webapp/views/statistical.jsp	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/views/statistical.jsp	(date 1736641864623)
@@ -6,7 +6,7 @@
     <meta charset="UTF-8"/>
     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
     <title>Thống kê</title>
-    <link href="Images/LOGO_V2.png" rel="icon" type="image/x-icon"/>
+    <link href="${pageContext.request.contextPath}/Images/LOGO_V2.png" rel="icon" type="image/x-icon"/>
     <link rel="stylesheet" href="${pageContext.request.contextPath}/css/statistical.css"/>
 
     <link
@@ -46,21 +46,21 @@
             <i class="fas fa-utensils"> </i>
             <div class="text">
                 <p>Sản phẩm được bán ra</p>
-                <p class="number">3</p>
+                <p class="number">${totalProducts}</p>
             </div>
         </div>
         <div class="card">
             <i class="fas fa-file-alt"> </i>
             <div class="text">
                 <p>Số lượng bán ra</p>
-                <p class="number">7</p>
+                <p class="number">${totalQuantity}</p>
             </div>
         </div>
         <div class="card">
             <i class="fas fa-dollar-sign"> </i>
             <div class="text">
                 <p>Doanh thu</p>
-                <p class="number">330.000 đ</p>
+                <p class="number">${totalRevenue} đ</p>
             </div>
         </div>
     </div>
@@ -76,65 +76,24 @@
         </tr>
         </thead>
         <tbody>
-        <tr>
-            <td>1</td>
-            <td class="product_name">
-                <img
-                        alt="Đậu hũ xào nấm chay"
-                        height="50"
-                        src="../Images/Food/Com/Com-chien-duong-chau.png"
-                />
-                Cơm chiên dương châu
-            </td>
-            <td>7</td>
-            <td>210.000 đ</td>
-            <td>
-                <button class="details-button">
-                    <i class="fas fa-eye"> </i>
-                    CHI TIẾT
-                </button>
-            </td>
-        </tr>
-        <tr>
-            <td>2</td>
-            <td class="product_name">
-                <img
-                        alt="Miến xào rau củ chay"
-                        height="50"
-                        src="../Images/Food/Com/Com-chien-ga-xoi-mo.png"
-                />
-                Cơm gà xối mỡ
-            </td>
-            <td>3</td>
-            <td>90.000 đ</td>
-            <td>
-                <button class="details-button">
-                    <i class="fas fa-eye"> </i>
-                    CHI TIẾT
-                </button>
-            </td>
-        </tr>
-        <tr>
-            <td>3</td>
-            <td class="product_name">
-                <img
-                        alt="Phở bò tái"
-                        height="50"
-                        src="../Images/Food/Pho/Pho-bo-tai.png"
-                        width="50"
-                />
-                Phở bò tái
-            </td>
-            <td>1</td>
-            <td>30.000 đ</td>
-            <td>
-                <button class="details-button">
-                    <i class="fas fa-eye"> </i>
-                    CHI TIẾT
-                </button>
-            </td>
-        </tr>
+        <c:forEach var="detail" items="${invoiceDetails}" varStatus="status">
+            <tr>
+                <td>${status.index + 1}</td>
+                <td class="product_name">
+                    <img alt="${detail.food.foodName}" height="50" src="${pageContext.request.contextPath}/${detail.food.img}" />
+                        ${detail.food.foodName}
+                </td>
+                <td>${detail.quantity}</td>
+                <td>${detail.totalAmount} đ</td>
+                <td>
+                    <button class="details-button">
+                        <i class="fas fa-eye"></i> CHI TIẾT
+                    </button>
+                </td>
+            </tr>
+        </c:forEach>
         </tbody>
+
     </table>
 </div>
 </body>
Index: src/main/webapp/js/cart.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/js/cart.js b/src/main/webapp/js/cart.js
--- a/src/main/webapp/js/cart.js	(revision 94e4aea89831f6ed99e872e2be338e222ee3a626)
+++ b/src/main/webapp/js/cart.js	(date 1736641864617)
@@ -1,0 +1,8 @@
+window.onload = function() {
+    var successMessage = document.getElementById("success-message");
+    if (successMessage) {
+        setTimeout(function() {
+            successMessage.style.display = "none";
+        }, 2000);
+    }
+};
